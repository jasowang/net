Bottom: 5d17971eebdfd239a6ac76c12d0c9c390716533e
Top:    5d17971eebdfd239a6ac76c12d0c9c390716533e
Author: Jason Wang <jasowang@redhat.com>
Date:   2018-07-04 13:45:09 +0800

vhost: packed ring support

This patch introduces basic support for packed ring. The idea behinds
packed ring is to use a single descriptor ring instead of three
different rings (avail, used and descriptor). This could help to
reduce the cache contention and PCI transactions. So it was designed
to help for the performance for both software implementation and
hardware implementation.

The implementation was straightforward, packed version of vhost core
(whose name has a packed suffix) helpers were introduced and previous
helpers were renamed with a split suffix. Then the exported helpers
can just do a switch to go to the correct internal helpers.

The event suppression (device area and driver area) were not
implemented. It will be done on top with another patch.

For more information of packed ring, please refer Virtio spec.

Signed-off-by: Jason Wang <jasowang@redhat.com>

---


