Bottom: c1ada38a3a7858a58cafdcc2e68b25dfd1a4b3da
Top:    c1ada38a3a7858a58cafdcc2e68b25dfd1a4b3da
Author: Jason Wang <jasowang@redhat.com>
Date:   2018-01-23 16:36:37 +0800

vhost: use mutex_lock_nested() in vhost_dev_lock_vqs()

We used to call mutex_lock() in vhost_dev_lock_vqs() which tries to
hold mutexes of all virtqueues. This may confuse lockdep to report a
possible deadlock because of same lock class. Switch to use mutex_lock_nested()


---


